import scipy

DEFAULT_BUFFER_DEFINITION = [
    {'foregrounds': [1, 2, 3], 'gap': 2, 'background': 25},
    {'foregrounds': [5, 7, 9, 11], 'gap': 4, 'background': 30},
    {'foregrounds': [13, 15, 17], 'gap': 5, 'background': 40},
]

DEFAULT_EXCLUSION_THRESHOLDS = [1.1, 1.2, 1.3]

DEFAULT_MAPPED_COORDINATE_RANGES = [[70, 2800], [100, 2800], [210, 2800], [400, 2800],
                                    [550, 2800], [750, 2800], [1100, 2800], [1350, 2800]]

ADJUSTMENT_DICT = {'adjustment_factor': 0.5, 'lower_fraction': 0.97, 'upper_fraction': 1.03}

DEFAULT_SEMINORM_THRESHOLDS = {
    'Scale_0_LowEn': {'DEFAULT': {'base_scale_factor': 1.4, 'minimum_scale': 7.5},
                      'STATIC': {'base_scale_factor': 0.1, 'minimum_scale': 5.5},
                      },
    'Scale_0_MedEn': {'DEFAULT': {'base_scale_factor': 0.51, 'minimum_scale': 5.14},
                      'STATIC': {'base_scale_factor': 0.1, 'minimum_scale': 5.5},
                      },
    'Scale_0_HighEn': {'DEFAULT': {'base_scale_factor': 0.362, 'minimum_scale': 5.24},
                       'STATIC': {'base_scale_factor': 0.1, 'minimum_scale': 5.5},
                       },
    'Scale_0_Top': {'DEFAULT': {'base_scale_factor': 0.85, 'minimum_scale': 10.0},
                    'STATIC': {'base_scale_factor': 0.1, 'minimum_scale': 5.5},
                    },
    'Scale_1_LowEn': {'DEFAULT': {'base_scale_factor': 1.85, 'minimum_scale': 9.0},
                      'STATIC': {'base_scale_factor': 0.1, 'minimum_scale': 5.5},
                      },
    'Scale_1_MedEn': {'DEFAULT': {'base_scale_factor': 0.58, 'minimum_scale': 5.14},
                      'STATIC': {'base_scale_factor': 0.1, 'minimum_scale': 5.5},
                      },
    'Scale_1_HighEn': {'DEFAULT': {'base_scale_factor': 0.44, 'minimum_scale': 5.14},
                       'STATIC': {'base_scale_factor': 0.1, 'minimum_scale': 5.5},
                       },
    'Scale_1_Top': {'DEFAULT': {'base_scale_factor': 0.85, 'minimum_scale': 10.0},
                    'STATIC': {'base_scale_factor': 0.1, 'minimum_scale': 5.5},
                    },
    'Scale_2_LowEn': {'DEFAULT': {'base_scale_factor': 2.1, 'minimum_scale': 11.5},
                      'STATIC': {'base_scale_factor': 0.1, 'minimum_scale': 5.5},
                      },
    'Scale_2_MedEn': {'DEFAULT': {'base_scale_factor': 0.64, 'minimum_scale': 5.64},
                      'STATIC': {'base_scale_factor': 0.1, 'minimum_scale': 5.5},
                      },
    'Scale_2_HighEn': {'DEFAULT': {'base_scale_factor': 0.58, 'minimum_scale': 5.1},
                       'STATIC': {'base_scale_factor': 0.1, 'minimum_scale': 5.5},
                       },
    'Scale_2_Top': {'DEFAULT': {'base_scale_factor': 0.85, 'minimum_scale': 10.0},
                    'STATIC': {'base_scale_factor': 0.1, 'minimum_scale': 5.5},
                    },
    'Scale_3_LowEn': {'DEFAULT': {'base_scale_factor': 2.2, 'minimum_scale': 12.0},
                      'STATIC': {'base_scale_factor': 0.1, 'minimum_scale': 5.5},
                      },
    'Scale_3_MedEn': {'DEFAULT': {'base_scale_factor': 1.18, 'minimum_scale': 8.1},
                      'STATIC': {'base_scale_factor': 0.1, 'minimum_scale': 5.5},
                      },
    'Scale_3_HighEn': {'DEFAULT': {'base_scale_factor': 0.7, 'minimum_scale': 6.08},
                       'STATIC': {'base_scale_factor': 0.1, 'minimum_scale': 5.5},
                       },
    'Scale_3_Top': {'DEFAULT': {'base_scale_factor': 0.85, 'minimum_scale': 10.0},
                    'STATIC': {'base_scale_factor': 0.1, 'minimum_scale': 5.5},
                    },
}

DEFAULT_SEMINORM_LIST = [
    # Scale 0 seminorms
    {'name': 'Scale_0_LowEn', 'lp_exponent': 16., 'mapping_definition': [(0, (50., 300.)), ],
     'thresholds': DEFAULT_SEMINORM_THRESHOLDS['Scale_0_LowEn'] ,'count_rate_adjustment': ADJUSTMENT_DICT, },
    {'name': 'Scale_0_MedEn', 'lp_exponent': 16., 'mapping_definition': [(0, (250., 750.)), ],
     'thresholds': DEFAULT_SEMINORM_THRESHOLDS['Scale_0_MedEn'] ,'count_rate_adjustment': None, },
    {'name': 'Scale_0_HighEn', 'lp_exponent': 16., 'mapping_definition': [(0, (650., 1350.)), ],
     'thresholds': DEFAULT_SEMINORM_THRESHOLDS['Scale_0_HighEn'] ,'count_rate_adjustment': None, },
    {'name': 'Scale_0_Top', 'lp_exponent': 4., 'mapping_definition': [(0, (1600., 2900.)), ],
     'thresholds': DEFAULT_SEMINORM_THRESHOLDS['Scale_0_Top'] ,'count_rate_adjustment': None, },
    # Scale 1 seminorms
    {'name': 'Scale_1_LowEn', 'lp_exponent': 16., 'mapping_definition': [(1, (50., 450.)), ],
     'thresholds': DEFAULT_SEMINORM_THRESHOLDS['Scale_1_LowEn'] ,'count_rate_adjustment': ADJUSTMENT_DICT, },
    {'name': 'Scale_1_MedEn', 'lp_exponent': 16., 'mapping_definition': [(1, (400., 900.)), ],
     'thresholds': DEFAULT_SEMINORM_THRESHOLDS['Scale_1_MedEn'] ,'count_rate_adjustment': None, },
    {'name': 'Scale_1_HighEn', 'lp_exponent': 16., 'mapping_definition': [(1, (700., 1300.)), ],
     'thresholds': DEFAULT_SEMINORM_THRESHOLDS['Scale_1_HighEn'] ,'count_rate_adjustment': None, },
    {'name': 'Scale_1_Top', 'lp_exponent': 4., 'mapping_definition': [(1, (1600., 2900.)), ],
     'thresholds': DEFAULT_SEMINORM_THRESHOLDS['Scale_1_Top'] ,'count_rate_adjustment': None, },
    # Scale 2 seminorms
    {'name': 'Scale_2_LowEn', 'lp_exponent': 16., 'mapping_definition': [(2, (50., 500.)), ],
     'thresholds': DEFAULT_SEMINORM_THRESHOLDS['Scale_2_LowEn'] ,'count_rate_adjustment': ADJUSTMENT_DICT, },
    {'name': 'Scale_2_MedEn', 'lp_exponent': 16., 'mapping_definition': [(2, (450., 900.)), ],
     'thresholds': DEFAULT_SEMINORM_THRESHOLDS['Scale_2_MedEn'] ,'count_rate_adjustment': None, },
    {'name': 'Scale_2_HighEn', 'lp_exponent': 16., 'mapping_definition': [(2, (750., 1250.)), ],
     'thresholds': DEFAULT_SEMINORM_THRESHOLDS['Scale_2_HighEn'] ,'count_rate_adjustment': None, },
    {'name': 'Scale_2_Top', 'lp_exponent': 4., 'mapping_definition': [(2, (1650., 2900.)), ],
     'thresholds': DEFAULT_SEMINORM_THRESHOLDS['Scale_2_Top'] ,'count_rate_adjustment': None, },
    # Scale 3 seminorms
    {'name': 'Scale_3_LowEn', 'lp_exponent': 16., 'mapping_definition': [(3, (50., 500.)), ],
     'thresholds': DEFAULT_SEMINORM_THRESHOLDS['Scale_3_LowEn'] ,'count_rate_adjustment': ADJUSTMENT_DICT, },
    {'name': 'Scale_3_MedEn', 'lp_exponent': 16., 'mapping_definition': [(3, (400., 800.)), ],
     'thresholds': DEFAULT_SEMINORM_THRESHOLDS['Scale_3_MedEn'] ,'count_rate_adjustment': None, },
    {'name': 'Scale_3_HighEn', 'lp_exponent': 16., 'mapping_definition': [(3, (700., 1250.)), ],
     'thresholds': DEFAULT_SEMINORM_THRESHOLDS['Scale_3_HighEn'] ,'count_rate_adjustment': None, },
    {'name': 'Scale_3_Top', 'lp_exponent': 4., 'mapping_definition': [(3, (1650., 2900.)), ],
     'thresholds': DEFAULT_SEMINORM_THRESHOLDS['Scale_3_Top'] ,'count_rate_adjustment': None, },
]


DEFAULT_BINS = scipy.array([0.0, 1.5, 3.0, 5.0, 7.0, 9.0, 11.0, 13.5,
                            16.0, 18.5, 21.0, 23.5, 26.0, 29.0, 32.0, 35.0,
                            38.0, 41.0, 44.0, 47.5, 51.0, 54.5, 58.0, 61.5,
                            65.0, 69.0, 73.0, 77.0, 81.0, 85.0, 89.0, 93.0,
                            97.0, 101.5, 106.0, 110.5, 115.0, 119.5, 124.0, 129.0,
                            134.0, 139.0, 144.0, 149.0, 154.0, 159.0, 164.0, 169.5,
                            175.0, 180.5, 186.0, 191.5, 197.0, 203.0, 209.0, 215.0,
                            221.0, 227.0, 233.0, 239.0, 245.0, 251.5, 258.0, 264.5,
                            271.0, 277.5, 284.0, 290.5, 297.0, 304.0, 311.0, 318.0,
                            325.0, 332.0, 339.0, 346.0, 353.0, 360.5, 368.0, 375.5,
                            383.0, 390.5, 398.0, 406.0, 414.0, 422.0, 430.0, 438.0,
                            446.0, 454.0, 462.0, 470.5, 479.0, 487.5, 496.0, 504.5,
                            513.0, 521.5, 530.0, 539.0, 548.0, 557.0, 566.0, 575.0,
                            584.0, 593.5, 603.0, 612.5, 622.0, 631.5, 641.0, 650.5,
                            660.0, 670.0, 680.0, 690.0, 700.0, 710.0, 720.0, 730.5,
                            741.0, 751.5, 762.0, 772.5, 783.0, 793.5, 804.0, 815.0,
                            826.0, 837.0, 848.0, 859.0, 870.0, 881.5, 893.0, 904.5,
                            916.0, 927.5, 939.0, 951.0, 963.0, 975.0, 987.0, 999.0,
                            1011.0, 1023.0, 1035.0, 1047.5, 1060.0, 1072.5, 1085.0, 1097.5,
                            1110.0, 1123.0, 1136.0, 1149.0, 1162.0, 1175.0, 1188.0, 1201.5,
                            1215.0, 1228.5, 1242.0, 1255.5, 1269.0, 1283.0, 1297.0, 1311.0,
                            1325.0, 1339.0, 1353.0, 1367.5, 1382.0, 1396.5, 1411.0, 1425.5,
                            1440.0, 1455.0, 1470.0, 1485.0, 1500.0, 1515.0, 1530.0, 1545.5,
                            1561.0, 1576.5, 1592.0, 1607.5, 1623.0, 1639.0, 1655.0, 1671.0,
                            1687.0, 1703.0, 1719.0, 1735.5, 1752.0, 1768.5, 1785.0, 1802.0,
                            1819.0, 1836.0, 1853.0, 1870.0, 1887.0, 1904.5, 1922.0, 1939.5,
                            1957.0, 1974.5, 1992.0, 2010.0, 2028.0, 2046.0, 2064.0, 2082.5,
                            2101.0, 2119.5, 2138.0, 2156.5, 2175.0, 2194.0, 2213.0, 2232.0,
                            2251.0, 2270.0, 2289.0, 2308.5, 2328.0, 2347.5, 2367.0, 2387.0,
                            2407.0, 2427.0, 2447.0, 2467.5, 2488.0, 2508.5, 2529.0, 2549.5,
                            2570.0, 2591.0, 2612.0, 2633.0, 2654.0, 2675.5, 2697.0, 2718.5,
                            2740.0, 2762.0, 2784.0, 2806.0, 2828.0, 2850.0, 2872.0, 2894.0],
                           dtype=scipy.float64)

